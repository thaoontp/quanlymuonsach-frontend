<template>
  <div class="containPage">
    <div class="contentPage">
      <section class="">
        <div class="">
          <div class="row d-flex justify-content-center align-items-center">
            <div class="col">
              <div class="card">
                <!-- Thẻ card header -->
                <div
                  class="p-3 text-black d-flex justify-content-center text-center"
                  style="background-color: #f8f9fa"
                >
                  <div class="d-flex justify-content-end text-center py-1">
                    {{ data.ChucVu }}
                  </div>
                </div>
                <!-- Thẻ card body -->
                <div class="card-body">
                  <div class="row">
                    <!-- Avatar bên phải -->

                    <!-- Thông tin bên trái -->
                    <div class="col-sm-9">
                      <div class="mb-5">
                        <!-- <p class="lead fw-normal mb-1">Thông tin cá nhân</p> -->
                        <div class="" style="background-color: #f8f9fa">
                          <div class="card-body">
                            <div class="row">
                              <div class="col-sm-3">
                                <p class="mb-0">Họ tên</p>
                              </div>
                              <div class="col-sm-9">
                                <p class="text-muted mb-0">
                                  {{ data.HoTenNv }}
                                </p>
                              </div>
                            </div>
                            <hr />
                            <div class="row">
                              <div class="col-sm-3">
                                <p class="mb-0">Số điện thoại</p>
                              </div>
                              <div class="col-sm-9">
                                <p class="text-muted mb-0">
                                  {{ data.SoDienThoai }}
                                </p>
                              </div>
                            </div>
                            <hr />
                            <div class="row">
                              <div class="col-sm-3">
                                <p class="mb-0">Địa chỉ</p>
                              </div>
                              <div class="col-sm-9">
                                <p class="text-muted mb-0">{{ data.DiaChi }}</p>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div
                      class="col-sm-3 d-flex justify-content-center align-items-center"
                    >
                      <div>
                        <img
                          v-if="data.Avatar != undefined"
                          :src="'http://localhost:3000/' + data.Avatar"
                          alt="Generic placeholder image"
                          class="img-fluid"
                          style="width: 125px; z-index: 1"
                        />
                        <div class="my-3">
                          <!-- Thêm dòng trống phía dưới ảnh -->
                          <router-link
                            to="/admin/editprofile"
                            class="btn btn-edit"
                          >
                            <button
                              type="button"
                              class="btn"
                              data-mdb-ripple-color="dark"
                            >
                              Chỉnh sửa
                            </button>
                          </router-link>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
</template>

<script setup>
import { ref } from "vue";
import axios from "axios";
const data = ref({});
const ID_User = localStorage.getItem("ID_User");
const fetchData = () => {
  axios
    .get("http://localhost:3000/authentication/info/staff/" + ID_User)
    .then((res) => {
      console.log("Data", res.data);
      data.value = res.data;
    })
    .catch((err) => console.log(err));
};
fetchData();
</script>
<style lang="scss" scoped>
@import "./InfoAdmin.scss";
</style>
